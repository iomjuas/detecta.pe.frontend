:host {
    position: fixed;
    inset: 0;
    pointer-events: none;
}

/* Overlay de pantalla completa */
.preloader {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    background: color-mix(in srgb, #0a0f14 12%, transparent);
    z-index: 9999;
    pointer-events: auto;
    transition: backdrop-filter .25s ease, background .25s ease;

    &.blur {
        backdrop-filter: saturate(160%) blur(6px);
    }
}

/* Contenedor del loader */
.loader {
    --size: 112;
    /* px */
    width: calc(var(--size) * 1px);
    height: calc(var(--size) * 1px);
    position: relative;
    display: grid;
    place-items: center;
    isolation: isolate;
    will-change: transform, filter;
    animation: float 2.2s ease-in-out infinite;

    .logo {
        width: 70%;
        height: 70%;
        object-fit: contain;
        filter: drop-shadow(0 6px 14px rgba(0, 0, 0, .25));
        animation: breathe 1.8s ease-in-out infinite;
        user-select: none;
    }

    .ring {
        position: absolute;
        inset: 0;
        border-radius: 50%;
        /* aro segmentado con gradiente de marca */
        background:
            conic-gradient(from 0turn,
                var(--brand, #44c6e1) 0 20%,
                rgba(68, 198, 225, .35) 20% 40%,
                rgba(68, 198, 225, .15) 40% 55%,
                transparent 55% 100%);
        mask: radial-gradient(circle at center, transparent 58%, #000 59%);
        animation: spin 1.2s linear infinite, glow 2s ease-in-out infinite;
    }

    .txt {
        position: absolute;
        bottom: -42px;
        width: max-content;
        color: #fff;
        font-weight: 600;
        letter-spacing: .2px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, .25);
        opacity: .9;
    }
}

/* Animaciones */
@keyframes spin {
    to {
        transform: rotate(1turn);
    }
}

@keyframes glow {

    0%,
    100% {
        filter: drop-shadow(0 0 0 rgba(68, 198, 225, .0));
    }

    50% {
        filter: drop-shadow(0 0 18px rgba(68, 198, 225, .45));
    }
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-6px);
    }
}

@keyframes breathe {

    0%,
    100% {
        transform: scale(1);
        opacity: .95;
    }

    50% {
        transform: scale(1.03);
        opacity: 1;
    }
}

/* Evita scroll de fondo cuando el preloader est√° visible */
html.preloader-open,
body.preloader-open {
    overflow: hidden;
}

/* Respeta motion preferences */
@media (prefers-reduced-motion: reduce) {

    .loader,
    .ring,
    .logo {
        animation: none !important;
    }

    .preloader.blur {
        backdrop-filter: none;
    }
}