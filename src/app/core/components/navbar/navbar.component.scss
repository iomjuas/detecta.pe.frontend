/* ===========================
   NAVBAR (Bootstrap 5 friendly)
   =========================== */

/* Estado base (transparente) */
.navbar-custom {
  --_ink: var(--ink);
  --_brand: var(--brand);
  --_bg: white;

  /* Toggler icon BLANCO (BS5 usa una imagen SVG por variable) */
  --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(19,58,74, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");

  transition: background-color 0.25s ease, box-shadow 0.25s ease,
    backdrop-filter 0.25s ease;
  background: var(--_bg);
  backdrop-filter: none;

  .nav-link,
  .btn.btn-link {
    // color: #fff;
    font-weight: 600;
  }

  .navbar-toggler {
    border: 0;
  }

  /* Logos */
  .navbar-brand .logo {
    height: 66px;
    transition: opacity 0.2s ease, transform 0.2s ease;
  }

  .navbar-brand .logo-dark {
    position: absolute;
    opacity: 0;
    transform: translateY(-2px);
  }

  .navbar-brand .logo-light {
    opacity: 1;
  }
}

/* Estado SCROLLED: fondo blanco + sombra + colores oscuros */
.nav-scrolled {
  background: rgba(255, 255, 255, 0.872);
  box-shadow: var(--shadow);
  backdrop-filter: saturate(180%) blur(8px);

  /* Toggler icon OSCURO */
  --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(19,58,74, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");

  .nav-link,
  .btn.btn-link {
    color: var(--ink);
  }

  .navbar-brand .logo-light {
    opacity: 0;
    transform: translateY(-2px);
  }

  .navbar-brand .logo-dark {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Botón primario de marca */
.btn-brand {
  --bs-btn-bg: var(--brand);
  --bs-btn-border-color: var(--brand);
  --bs-btn-hover-bg: color-mix(in srgb, var(--brand) 88%, #000 12%);
  --bs-btn-hover-border-color: color-mix(in srgb, var(--brand) 88%, #000 12%);
  --bs-btn-color: #fff;
  border-radius: 12px;
  box-shadow: 0 8px 18px rgba(68, 198, 225, 0.25);
}

/* Mega menu (desktop) */
.dropdown.position-static .mega {
  left: 0;
  right: 0;
  top: 100%;
  display: block;
  opacity: 0;
  pointer-events: none;
  transform: translateY(10px);
  background: #f7fcff;
  border-radius: var(--radius);
  transition: opacity 0.18s ease, transform 0.18s ease;
}

.dropdown.position-static .mega.show {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(6px);
}

.mega-list .list-group-item {
  padding: 0.6rem 0.25rem;
  border: 0;
  border-radius: 10px;
  color: var(--ink);
}

.mega-list .list-group-item:hover {
  background: #eef9ff;
}

/* Subrayado animado en links */
.nav-link {
  position: relative;
}

.nav-link::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0.25rem;
  height: 2px;
  background: linear-gradient(90deg, var(--brand), #9ee7f6);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.2s ease;
}

.nav-link:hover::after {
  transform: scaleX(1);
}

/* Toggler */
.navbar-toggler {
  width: 42px;
  height: 42px;
  border-radius: 10px;
  box-shadow: none !important;
}

/* Utilidad */
.object-fit-cover {
  object-fit: cover;
}

/* ===== Logo centrado en ≥ lg ===== */
.brand-center .logo {
  height: 36px;
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.brand-center .logo-dark {
  position: absolute;
  opacity: 0;
  transform: translateY(-2px);
}

.brand-center .logo-light {
  opacity: 1;
}

@media (min-width: 992px) {
  .brand-center {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
    pointer-events: auto;
  }
}

/* ===== Móvil: logo a la izquierda, menús en collapse ===== */
@media (max-width: 991.98px) {
  .navbar-custom .navbar-brand {
    margin-right: auto;
  }
}

@media (min-width: 992px) {
  .navbar-custom .navbar-collapse {
    display: none !important;
  }

  /* oculta cualquier collapse */
}

/* oculto por defecto */
.dropdown.position-static .mega {
  left: 0;
  right: 0;
  top: 100%;
  background: #f7fcff;
  border-radius: var(--radius);
  opacity: 0;
  pointer-events: none;
  transform: translateY(10px);
  transition: opacity 0.18s ease, transform 0.18s ease;
}

/* visible cuando megaOpen === true */
.dropdown.position-static .mega.show {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(6px);
}

@media (prefers-reduced-motion: reduce) {
  .navbar-custom,
  .nav-link::after,
  .mega {
    transition: none !important;
    animation: none !important;
  }
}

.navbar-brand .logo {
  width: auto;
  height: 36px;
}

.mega-list .list-group-item.active {
  background: #eef9ff;
  font-weight: 700;
}

@media (min-width: 992px) {
  .dropdown.position-static .mega {
    border-radius: var(--radius);
  }
}
.active {
  font-weight: 700;
  text-decoration: underline;
}
/* === Topbar (aviso superior) === */
.topbar {
  --tb-bg: #eb5e86; /* rosa */
  --tb-ink: #ffffff; /* texto */
  --tb-h: 34px; /* alto de la barra */
  position: relative;
  z-index: 1031; /* por encima del navbar (bs: .navbar 1030) */
  background: var(--tb-bg);
  color: var(--tb-ink);
  height: var(--tb-h);
  display: flex;
  align-items: center;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
}

.topbar__inner {
  display: flex;
  align-items: center;
  justify-content: center; /* mensaje centrado */
  gap: 0.75rem;
  position: relative;
}

.topbar__msg {
  font-weight: 600;
  font-size: 0.95rem;
  text-align: center;
  line-height: 1.2;
}

.topbar__link {
  color: #fff;
  text-decoration: underline;
  text-underline-offset: 2px;
//   font-weight: 800;
}

.topbar__link:hover {
  opacity: 0.9;
}

/* botón cerrar a la derecha */
.topbar__close {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border: 0;
  background: transparent;
  color: #fff;
  font-size: 1rem;
  line-height: 1;
  opacity: 0.9;
  padding: 0.25rem 0.5rem;
}
.topbar__close:hover {
  opacity: 1;
}

/* ===== Compensar header fixed: sumar alto de Topbar + Navbar ===== */
:root {
  /* altura estimada de tu navbar; ajusta si cambias paddings/altos */
  --detecta-navbar-h: 82px;
}

/* Aplica margen al body o al primer section para que no quede oculto */
body {
  /* topbar visible */
  margin-top: calc(var(--detecta-navbar-h) + 44px);
}

/* Cuando la topbar no se muestra, solo navbar */
:root:has(.topbar ~ .navbar) body {
  /* este selector no deshace el margin-top, así que usamos helper en TS si quieres.
     O simplemente define: */
}

@media (max-width: 991.98px) {
  /* navbar un poco más bajo en móvil */
  :root {
    --detecta-navbar-h: 70px;
  }
  .topbar {
    --tb-h: 40px;
  }
  .topbar__msg {
    font-size: 0.9rem;
  }
}

/* Si prefieres, en vez de body margin-top puedes dar padding-top
   al primer section de la home */
